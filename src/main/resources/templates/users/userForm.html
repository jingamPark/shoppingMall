<!DOCTYPE html>
<html lang="en"
        xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <th:block layout:fragment="css">
        <style>
            .fieldError{
                color: #db2130;
            }
        </style>

    </th:block>


    <th:block layout:fragment="script">

        <script th:inline="javascript">




            $(document).ready(function () {
                var errorMsg = [[${errorMsg}]];
                if (errorMsg != null) {
                    alert(errorMsg)
                }
            });



        </script>

    </th:block>


</head>
<body>

    <div layout:fragment="content" >

            <div class="container">

                <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8 col-md-6 d-flex flex-column align-items-center justify-content-center">

                                <div class="d-flex justify-content-center py-4">
                                    <a href="/main/" class="logo d-flex align-items-center w-auto">
                                        <span class="d-none d-lg-block">쇼핑몰</span>
                                    </a>
                                </div><!-- End Logo -->

                                <div class="card mb-3">

                                    <div class="card-body">

                                        <div class="pt-4 pb-2">
                                            <h5 class="card-title text-center pb-0 fs-4">회원가입</h5>
                                            <p class="text-center small">개인정보를 입력해 주세요</p>
                                        </div>

                                        <form action="/users/signup" role="form" method="post" th:object="${userFormDTO}">

                                            <div class="col-16">
                                                <label for="loginId" class="form-label" th:for="*{loginId}" >아이디</label>
                                                <input type="text"  class="form-control" th:field="*{loginId}" id="loginId" placeholder="아이디를 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('loginId')}"    th:errors="*{loginId}" class="fieldError" >

                                                </p>

                                            </div>

                                            <div class="col-12">
                                                <label for="password" class="form-label">비밀번호</label>
                                                <input type="text" name="password" class="form-control" th:field="*{password}" id="password" placeholder="비밀번호를 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('password')}"    th:errors="*{password}" class="fieldError" >

                                                </p>
                                            </div>

                                            <div class="col-12">
                                                <label for="password2" class="form-label">비밀번호 확인</label>
                                                <input type="text" name="password2" class="form-control" th:field="*{password2}" id="password2" placeholder="똑같은 비밀번호를 입력해 주세요">
                                                <p th:if="${#fields.hasErrors('password2')}"    th:errors="*{password2}" class="fieldError" >

                                                </p>
                                            </div>

                                            <div class="col-12">
                                                <label for="name" class="form-label">이름</label>
                                                <input type="text" name="name" class="form-control" th:field="*{name}" id="name" placeholder="이름을 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('name')}"    th:errors="*{name}" class="fieldError" >

                                                </p>

                                            </div>

                                            <div class="col-12">
                                                <label for="email" class="form-label">이메일</label>
                                                <input type="email" name="email" class="form-control"  th:field="*{email}" id="email" placeholder="이메일을 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('email')}"    th:errors="*{email}" class="fieldError" >

                                                </p>
                                            </div>

                                            <div class="col-12">
                                                <label for="address" class="form-label">주소</label>
                                                <input type="text" name="address" class="form-control" th:field="*{address}" id="address" placeholder="주소를 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('address')}"    th:errors="*{address}" class="fieldError" >

                                                </p>
                                            </div>

                                            <div class="col-12">
                                                <label for="tel" class="form-label">전화번호</label>
                                                <input type="text" name="tel" class="form-control" th:field="*{tel}" id="tel" placeholder="전화번호를 입력해 주세요" >
                                                <p th:if="${#fields.hasErrors('tel')}"    th:errors="*{tel}" class="fieldError" >

                                                </p>
                                            </div>


                                            <div style="text-align: center">
                                                <button type="submit" class="btn btn-danger">회원가입</button>
                                            </div>
                                        </form>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                </section>

            </div>

    </div>

</body>
</html>